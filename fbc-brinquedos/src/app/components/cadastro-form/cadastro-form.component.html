<!-- O conteúdo do <form> que mostrei anteriormente vai aqui -->
<!-- A única mudança é no botão, que agora não precisa se preocupar com o estado de "disabled" global -->
<form class="cadastro-form" [formGroup]="cadastroForm" (ngSubmit)="onSubmit()">

  <!-- Campo Nome -->
  <div class="form-group">
    <label for="nome">Nome Completo</label>
    <input id="nome" type="text" formControlName="nome" placeholder="Digite seu nome completo">
    <div *ngIf="cadastroForm.get('nome')?.invalid && cadastroForm.get('nome')?.touched" class="error-message">
      <span *ngIf="cadastroForm.get('nome')?.errors?.['required']">O nome é obrigatório.</span>
      <span *ngIf="cadastroForm.get('nome')?.errors?.['minlength']">O nome deve ter no mínimo 3 caracteres.</span>
    </div>
  </div>

  <!-- Campo Email -->
  <div class="form-group">
    <label for="email">Email</label>
    <input id="email" type="email" formControlName="userEmail" placeholder="exemplo@email.com">
    <div *ngIf="cadastroForm.get('userEmail')?.invalid && cadastroForm.get('userEmail')?.touched" class="error-message">
      <span *ngIf="cadastroForm.get('userEmail')?.errors?.['required']">O email é obrigatório.</span>
      <span *ngIf="cadastroForm.get('userEmail')?.errors?.['email']">Por favor, insira um email válido.</span>
    </div>
  </div>

  <!-- Campos de Senha -->
  <div class="form-group">
    <label for="senha">Senha</label>
    <input id="senha" type="password" formControlName="userSenha" placeholder="Mínimo de 6 caracteres">
    <div *ngIf="cadastroForm.get('userSenha')?.invalid && cadastroForm.get('userSenha')?.touched" class="error-message">
      <span *ngIf="cadastroForm.get('userSenha')?.errors?.['required']">A senha é obrigatória.</span>
      <span *ngIf="cadastroForm.get('userSenha')?.errors?.['minlength']">A senha deve ter no mínimo 6 caracteres.</span>
    </div>
  </div>
  <div class="form-group">
    <label for="confirmarSenha">Confirmar Senha</label>
    <input id="confirmarSenha" type="password" formControlName="confirmarSenha" placeholder="Repita a senha">
    <div *ngIf="cadastroForm.get('confirmarSenha')?.touched && cadastroForm.hasError('senhasNaoCoincidem')" class="error-message">
      <span>As senhas não coincidem.</span>
    </div>
  </div>

  <button type="submit" class="btn-cadastrar" [disabled]="cadastroForm.invalid">
    Cadastrar
  </button>
</form>

